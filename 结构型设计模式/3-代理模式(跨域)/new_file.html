<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		//当前域名www.xx.com
//		$.Ajax({
//			url : 'http://upload.xx.com/upload.php',
//			success : function(res){
//				//无法获取返回的数据
//			}
//			//控制台报错：XMLHttpRequest cannot load
//			//NO 'Access-control-allow-orgin'
//		})
		
		//站长统计
		var Count = (function(){
			//缓存图片
			var img = new Image();
			//返回统计函数
			return function(param){
				var str = 'http://www.count.com'
				for(var i in param){
					str += i+'='+param[i];
				}
				_img.src=src;
			}
		})()
		
		//jsonp跨域
		//回调函数
		function jsonpCallBack(res,req){
			console.log(res,req);
		}
	</script>
	<script src="http://localhost/test/jsonp.php?callback=jsonpCallBack&data=getJsonpData" type="text/javascript" charset="utf-8"></script>
	<?php
		$data = $_GET["data"];
		$callback=$_GET["callback"];
		echo $callback."('success','".$data."')"
	?>
	<script type="text/javascript">
		/*代理模板*/
		/*有时我们还会通过一个方法来动态生成需要的jsonp中的<script>标签
		 与之类似的还有另外一种方案是被称之为代理模板的方案他的思路是
		 既然不同域之间相互调用对方的页面是有限制的，那么自己域中的两个页面相互
		 之间的调用是可以的，既代理页面B调用被代理的页面A中对象的方式是可以的
		 那么要实现这种方式我们只需要在被访问的域中，请求返回的Header重定向到
		 代理页面并在代理页面中处理被代理的页面A就可以了*/
	</script>
</html>
